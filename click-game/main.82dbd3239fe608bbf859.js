(()=>{"use strict";var Be={};Be.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var zo={};class K{element;constructor({tag:t="div",parent:r,className:n=[],text:i="",id:o}){this.element=document.createElement(t),this.element.classList.add(...n),r&&r.append(this.element),o&&(this.element.id=o),this.element.textContent=i}getNode(){return this.element}addClass(...t){this.element.classList.add(...t)}removeClass(...t){this.element.classList.remove(...t)}getClassName(){return this.element.className}addData(t,r){this.element.setAttribute(`data-${t}`,r)}setTextContent(t){this.element.textContent=t}setInnerHTML(t){this.element.innerHTML=t}setAttribute(t,r){this.element.setAttribute(t,r)}removeAttribute(t){this.element.removeAttribute(t)}setId(t){this.element.id=t}destroy(){this.element.remove()}stylize(t,r){this.element.style[t]=r}addEvent(t,r,n){this.element.addEventListener(t,r,n)}removeEvent(t,r){this.element.removeEventListener(t,r)}insertChildren(...t){t.forEach(r=>{this.element.append(r.getNode())})}replaceChildren(...t){const r=t.map(n=>n.getNode());this.element.replaceChildren(...r)}getDOMRect(){return this.element.getBoundingClientRect()}}var He=function(e,t){return He=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},He(e,t)};function $(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");He(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var It=function(){return It=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},It.apply(this,arguments)};function Uo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Vo(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(u=e[c])&&(o=(i<3?u(o):i>3?u(t,r,o):u(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}function $o(e,t){return function(r,n){t(r,n,e)}}function Wo(e,t,r,n,i,o){function u(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var c=n.kind,s=c==="getter"?"get":c==="setter"?"set":"value",a=!t&&e?n.static?e:e.prototype:null,f=t||(a?Object.getOwnPropertyDescriptor(a,n.name):{}),h,v=!1,p=r.length-1;p>=0;p--){var l={};for(var d in n)l[d]=d==="access"?{}:n[d];for(var d in n.access)l.access[d]=n.access[d];l.addInitializer=function(b){if(v)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(b||null))};var m=(0,r[p])(c==="accessor"?{get:f.get,set:f.set}:f[s],l);if(c==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(h=u(m.get))&&(f.get=h),(h=u(m.set))&&(f.set=h),(h=u(m.init))&&i.push(h)}else(h=u(m))&&(c==="field"?i.push(h):f[s]=h)}a&&Object.defineProperty(a,n.name,f),v=!0}function qo(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function Go(e){return typeof e=="symbol"?e:"".concat(e)}function Ko(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Bo(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function an(e,t,r,n){function i(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function c(f){try{a(n.next(f))}catch(h){u(h)}}function s(f){try{a(n.throw(f))}catch(h){u(h)}}function a(f){f.done?o(f.value):i(f.value).then(c,s)}a((n=n.apply(e,t||[])).next())})}function kt(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(a){return function(f){return s([a,f])}}function s(a){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,a[0]&&(r=0)),r;)try{if(n=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(f){a=[6,f],i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var Ct=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function Ho(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ct(t,e,r)}function ie(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],u;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(c){u={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return o}function Xo(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(W(arguments[t]));return e}function Jo(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],u=0,c=o.length;u<c;u++,i++)n[i]=o[u];return n}function Q(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function Z(e){return this instanceof Z?(this.v=e,this):new Z(e)}function un(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(v){n[v]&&(i[v]=function(p){return new Promise(function(l,d){o.push([v,p,l,d])>1||c(v,p)})})}function c(v,p){try{s(n[v](p))}catch(l){h(o[0][3],l)}}function s(v){v.value instanceof Z?Promise.resolve(v.value.v).then(a,f):h(o[0][2],v)}function a(v){c("next",v)}function f(v){c("throw",v)}function h(v,p){v(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Yo(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,o){t[i]=e[i]?function(u){return(r=!r)?{value:Z(e[i](u)),done:!1}:o?o(u):u}:o}}function cn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ie=="function"?ie(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(u){return new Promise(function(c,s){u=e[o](u),i(c,s,u.done,u.value)})}}function i(o,u,c,s){Promise.resolve(s).then(function(a){o({value:a,done:c})},u)}}function Qo(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var sn=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function Zo(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Ct(t,e,r);return sn(t,e),t}function ea(e){return e&&e.__esModule?e:{default:e}}function ta(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function ra(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function na(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function E(e){return typeof e=="function"}function Rt(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Xe=Rt(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Te(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var he=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,o;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var c=ie(u),s=c.next();!s.done;s=c.next()){var a=s.value;a.remove(this)}}catch(d){t={error:d}}finally{try{s&&!s.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}else u.remove(this);var f=this.initialTeardown;if(E(f))try{f()}catch(d){o=d instanceof Xe?d.errors:[d]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var v=ie(h),p=v.next();!p.done;p=v.next()){var l=p.value;try{Lt(l)}catch(d){o=o??[],d instanceof Xe?o=Q(Q([],W(o)),W(d.errors)):o.push(d)}}}catch(d){n={error:d}}finally{try{p&&!p.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}}if(o)throw new Xe(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)Lt(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&Te(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&Te(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Dt=he.EMPTY;function Nt(e){return e instanceof he||e&&"closed"in e&&E(e.remove)&&E(e.add)&&E(e.unsubscribe)}function Lt(e){E(e)?e():e.unsubscribe()}var fn=function(e){$(t,e);function t(r,n){return e.call(this)||this}return t.prototype.schedule=function(r,n){return n===void 0&&(n=0),this},t}(he),xe={setInterval:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=xe.delegate;return i?.setInterval?i.setInterval.apply(i,Q([e,t],W(r))):setInterval.apply(void 0,Q([e,t],W(r)))},clearInterval:function(e){var t=xe.delegate;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},ln=function(e){$(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return t.prototype.schedule=function(r,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var o=this.id,u=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(u,o,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(u,this.id,n),this},t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),xe.setInterval(r.flush.bind(r,this),i)},t.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&xe.clearInterval(n)},t.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(r,n){var i=!1,o;try{this.work(r)}catch(u){i=!0,o=u||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Te(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(fn),Ft={now:function(){return(Ft.delegate||Date).now()},delegate:void 0},zt=function(){function e(t,r){r===void 0&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(t,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,t).schedule(n,r)},e.now=Ft.now,e}(),dn=function(e){$(t,e);function t(r,n){n===void 0&&(n=zt.now);var i=e.call(this,r,n)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},t}(zt),Ut=new dn(ln),hn=Ut,ee={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Me={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=Me.delegate;return i?.setTimeout?i.setTimeout.apply(i,Q([e,t],W(r))):setTimeout.apply(void 0,Q([e,t],W(r)))},clearTimeout:function(e){var t=Me.delegate;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Vt(e){Me.setTimeout(function(){var t=ee.onUnhandledError;if(t)t(e);else throw e})}function $t(){}var vn=function(){return Je("C",void 0,void 0)}();function pn(e){return Je("E",void 0,e)}function yn(e){return Je("N",e,void 0)}function Je(e,t,r){return{kind:e,value:t,error:r}}var te=null;function Ie(e){if(ee.useDeprecatedSynchronousErrorHandling){var t=!te;if(t&&(te={errorThrown:!1,error:null}),e(),t){var r=te,n=r.errorThrown,i=r.error;if(te=null,n)throw i}}else e()}function mn(e){ee.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=e)}var Ye=function(e){$(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,Nt(r)&&r.add(n)):n.destination=On,n}return t.create=function(r,n,i){return new Ze(r,n,i)},t.prototype.next=function(r){this.isStopped?et(yn(r),this):this._next(r)},t.prototype.error=function(r){this.isStopped?et(pn(r),this):(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped?et(vn,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(he),bn=Function.prototype.bind;function Qe(e,t){return bn.call(e,t)}var gn=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){ke(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){ke(n)}else ke(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){ke(r)}},e}(),Ze=function(e){$(t,e);function t(r,n,i){var o=e.call(this)||this,u;if(E(r)||!r)u={next:r??void 0,error:n??void 0,complete:i??void 0};else{var c;o&&ee.useDeprecatedNextContext?(c=Object.create(r),c.unsubscribe=function(){return o.unsubscribe()},u={next:r.next&&Qe(r.next,c),error:r.error&&Qe(r.error,c),complete:r.complete&&Qe(r.complete,c)}):u=r}return o.destination=new gn(u),o}return t}(Ye);function ke(e){ee.useDeprecatedSynchronousErrorHandling?mn(e):Vt(e)}function wn(e){throw e}function et(e,t){var r=ee.onStoppedNotification;r&&Me.setTimeout(function(){return r(e,t)})}var On={closed:!0,next:$t,error:wn,complete:$t},tt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Wt(e){return e}function ia(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return qt(e)}function qt(e){return e.length===0?Wt:e.length===1?e[0]:function(r){return e.reduce(function(n,i){return i(n)},r)}}var z=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this,o=En(t)?t:new Ze(t,r,n);return Ie(function(){var u=i,c=u.operator,s=u.source;o.add(c?c.call(o,s):s?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=Gt(r),new r(function(i,o){var u=new Ze({next:function(c){try{t(c)}catch(s){o(s),u.unsubscribe()}},error:o,complete:i});n.subscribe(u)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[tt]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return qt(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=Gt(t),new t(function(n,i){var o;r.subscribe(function(u){return o=u},function(u){return i(u)},function(){return n(o)})})},e.create=function(t){return new e(t)},e}();function Gt(e){var t;return(t=e??ee.Promise)!==null&&t!==void 0?t:Promise}function Sn(e){return e&&E(e.next)&&E(e.error)&&E(e.complete)}function En(e){return e&&e instanceof Ye||Sn(e)&&Nt(e)}function An(e){return e&&E(e.schedule)}function Pn(e){return e instanceof Date&&!isNaN(e)}function _n(e,t,r){e===void 0&&(e=0),r===void 0&&(r=hn);var n=-1;return t!=null&&(An(t)?r=t:n=t),new z(function(i){var o=Pn(e)?+e-r.now():e;o<0&&(o=0);var u=0;return r.schedule(function(){i.closed||(i.next(u++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function Kt(e,t){return e===void 0&&(e=0),t===void 0&&(t=Ut),e<0&&(e=0),_n(e,e,t)}function jn(e){return E(e?.lift)}function oe(e){return function(t){if(jn(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function re(e,t,r,n,i){return new Tn(e,t,r,n,i)}var Tn=function(e){$(t,e);function t(r,n,i,o,u,c){var s=e.call(this,r)||this;return s.onFinalize=u,s.shouldUnsubscribe=c,s._next=n?function(a){try{n(a)}catch(f){r.error(f)}}:e.prototype._next,s._error=o?function(a){try{o(a)}catch(f){r.error(f)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=i?function(){try{i()}catch(a){r.error(a)}finally{this.unsubscribe()}}:e.prototype._complete,s}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(Ye);function Bt(e,t){return t===void 0&&(t=!1),oe(function(r,n){var i=0;r.subscribe(re(n,function(o){var u=e(o,i++);(u||t)&&n.next(o),!u&&n.complete()}))})}function Ht(e){return oe(function(t,r){try{t.subscribe(r)}finally{r.add(e)}})}function ve(e){return ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ve(e)}function xn(e,t){if(ve(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ve(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mn(e){var t=xn(e,"string");return ve(t)==="symbol"?t:String(t)}function In(e,t,r){return t=Mn(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xt(Object(r),!0).forEach(function(n){In(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Yt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),rt=function(){return Math.random().toString(36).substring(7).split("").join(".")},ae={INIT:"@@redux/INIT"+rt(),REPLACE:"@@redux/REPLACE"+rt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+rt()}};function Qt(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function oa(e){if(e===void 0)return"undefined";if(e===null)return"null";var t=typeof e;switch(t){case"boolean":case"string":case"number":case"symbol":case"function":return t}if(Array.isArray(e))return"array";if(Rn(e))return"date";if(Cn(e))return"error";var r=kn(e);switch(r){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return r}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}function kn(e){return typeof e.constructor=="function"?e.constructor.name:null}function Cn(e){return e instanceof Error||typeof e.message=="string"&&e.constructor&&typeof e.constructor.stackTraceLimit=="number"}function Rn(e){return e instanceof Date?!0:typeof e.toDateString=="function"&&typeof e.getDate=="function"&&typeof e.setDate=="function"}function Dn(e){var t=typeof e;return t}function Zt(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(x(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(x(1));return r(Zt)(e,t)}if(typeof e!="function")throw new Error(x(2));var i=e,o=t,u=[],c=u,s=!1;function a(){c===u&&(c=u.slice())}function f(){if(s)throw new Error(x(3));return o}function h(d){if(typeof d!="function")throw new Error(x(4));if(s)throw new Error(x(5));var m=!0;return a(),c.push(d),function(){if(m){if(s)throw new Error(x(6));m=!1,a();var y=c.indexOf(d);c.splice(y,1),u=null}}}function v(d){if(!Qt(d))throw new Error(x(7));if(typeof d.type>"u")throw new Error(x(8));if(s)throw new Error(x(9));try{s=!0,o=i(o,d)}finally{s=!1}for(var m=u=c,b=0;b<m.length;b++){var y=m[b];y()}return d}function p(d){if(typeof d!="function")throw new Error(x(10));i=d,v({type:ae.REPLACE})}function l(){var d,m=h;return d={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(x(11));function g(){y.next&&y.next(f())}g();var w=m(g);return{unsubscribe:w}}},d[Yt]=function(){return this},d}return v({type:ae.INIT}),n={dispatch:v,subscribe:h,getState:f,replaceReducer:p},n[Yt]=l,n}var aa=null;function ua(e){typeof console<"u"&&typeof console.error=="function"&&console.error(e);try{throw new Error(e)}catch{}}function ca(e,t,r,n){var i=Object.keys(t),o=r&&r.type===ae.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(i.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!Qt(e))return"The "+o+' has unexpected type of "'+Dn(e)+'". Expected argument to be an object with the following '+('keys: "'+i.join('", "')+'"');var u=Object.keys(e).filter(function(c){return!t.hasOwnProperty(c)&&!n[c]});if(u.forEach(function(c){n[c]=!0}),!(r&&r.type===ae.REPLACE)&&u.length>0)return"Unexpected "+(u.length>1?"keys":"key")+" "+('"'+u.join('", "')+'" found in '+o+". ")+"Expected to find one of the known reducer keys instead: "+('"'+i.join('", "')+'". Unexpected keys will be ignored.')}function Nn(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:ae.INIT});if(typeof n>"u")throw new Error(x(12));if(typeof r(void 0,{type:ae.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(x(13))})}function er(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];typeof e[i]=="function"&&(r[i]=e[i])}var o=Object.keys(r),u,c;try{Nn(r)}catch(s){c=s}return function(a,f){if(a===void 0&&(a={}),c)throw c;if(!1)var h;for(var v=!1,p={},l=0;l<o.length;l++){var d=o[l],m=r[d],b=a[d],y=m(b,f);if(typeof y>"u"){var g=f&&f.type;throw new Error(x(14))}p[d]=y,v=v||y!==b}return v=v||o.length!==Object.keys(a).length,v?p:a}}function tr(e,t){return function(){return t(e.apply(this,arguments))}}function sa(e,t){if(typeof e=="function")return tr(e,t);if(typeof e!="object"||e===null)throw new Error(x(16));var r={};for(var n in e){var i=e[n];typeof i=="function"&&(r[n]=tr(i,t))}return r}function Ce(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function Ln(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),o=function(){throw new Error(x(15))},u={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},c=t.map(function(s){return s(u)});return o=Ce.apply(void 0,c)(i.dispatch),Jt(Jt({},i),{},{dispatch:o})}}}function _(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!1)var i,o;throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(u){return"'"+u+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function U(e){return!!e&&!!e[O]}function D(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Gn}(e)||Array.isArray(e)||!!e[be]||!!(!((t=e.constructor)===null||t===void 0)&&t[be])||De(e)||Ne(e))}function fa(e){return U(e)||_(23,e),e[O].t}function q(e,t,r){r===void 0&&(r=!1),B(e)===0?(r?Object.keys:ue)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function B(e){var t=e[O];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:De(e)?2:Ne(e)?3:0}function H(e,t){return B(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Re(e,t){return B(e)===2?e.get(t):e[t]}function rr(e,t,r){var n=B(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function nr(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function De(e){return Wn&&e instanceof Map}function Ne(e){return qn&&e instanceof Set}function j(e){return e.o||e.t}function nt(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=lr(e);delete t[O];for(var r=ue(t),n=0;n<r.length;n++){var i=r[n],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function it(e,t){return t===void 0&&(t=!1),ot(e)||U(e)||!D(e)||(B(e)>1&&(e.set=e.add=e.clear=e.delete=Fn),Object.freeze(e),t&&q(e,function(r,n){return it(n,!0)},!0)),e}function Fn(){_(2)}function ot(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function V(e){var t=vt[e];return t||_(18,e),t}function at(e,t){vt[e]||(vt[e]=t)}function pe(){return me}function ut(e,t){t&&(V("Patches"),e.u=[],e.s=[],e.v=t)}function Le(e){ct(e),e.p.forEach(zn),e.p=null}function ct(e){e===me&&(me=e.l)}function ir(e){return me={p:[],l:me,h:e,m:!0,_:0}}function zn(e){var t=e[O];t.i===0||t.i===1?t.j():t.g=!0}function st(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||V("ES5").S(t,e,n),n?(r[O].P&&(Le(t),_(4)),D(e)&&(e=Fe(t,e),t.l||ze(t,e)),t.u&&V("Patches").M(r[O].t,e,t.u,t.s)):e=Fe(t,r,[]),Le(t),t.u&&t.v(t.u,t.s),e!==ht?e:void 0}function Fe(e,t,r){if(ot(t))return t;var n=t[O];if(!n)return q(t,function(c,s){return or(e,n,t,c,s,r)},!0),t;if(n.A!==e)return t;if(!n.P)return ze(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=nt(n.k):n.o,o=i,u=!1;n.i===3&&(o=new Set(i),i.clear(),u=!0),q(o,function(c,s){return or(e,n,i,c,s,r,u)}),ze(e,i,!1),r&&e.u&&V("Patches").N(n,r,e.u,e.s)}return n.o}function or(e,t,r,n,i,o,u){if(U(i)){var c=Fe(e,i,o&&t&&t.i!==3&&!H(t.R,n)?o.concat(n):void 0);if(rr(r,n,c),!U(c))return;e.m=!1}else u&&r.add(i);if(D(i)&&!ot(i)){if(!e.h.D&&e._<1)return;Fe(e,i),t&&t.A.l||ze(e,i)}}function ze(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&it(t,r)}function ft(e,t){var r=e[O];return(r?j(r):e)[t]}function ar(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function k(e){e.P||(e.P=!0,e.l&&k(e.l))}function lt(e){e.o||(e.o=nt(e.t))}function ye(e,t,r){var n=De(t)?V("MapSet").F(t,r):Ne(t)?V("MapSet").T(t,r):e.O?function(i,o){var u=Array.isArray(i),c={i:u?1:0,A:o?o.A:pe(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},s=c,a=ge;u&&(s=[c],a=we);var f=Proxy.revocable(s,a),h=f.revoke,v=f.proxy;return c.k=v,c.j=h,v}(t,r):V("ES5").J(t,r);return(r?r.A:pe()).p.push(n),n}function Un(e){return U(e)||_(22,e),function t(r){if(!D(r))return r;var n,i=r[O],o=B(r);if(i){if(!i.P&&(i.i<4||!V("ES5").K(i)))return i.t;i.I=!0,n=ur(r,o),i.I=!1}else n=ur(r,o);return q(n,function(u,c){i&&Re(i.t,u)===c||rr(n,u,t(c))}),o===3?new Set(n):n}(e)}function ur(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return nt(e)}function cr(){function e(u,c){var s=o[u];return s?s.enumerable=c:o[u]=s={configurable:!0,enumerable:c,get:function(){var a=this[O];return ge.get(a,u)},set:function(a){var f=this[O];ge.set(f,u,a)}},s}function t(u){for(var c=u.length-1;c>=0;c--){var s=u[c][O];if(!s.P)switch(s.i){case 5:n(s)&&k(s);break;case 4:r(s)&&k(s)}}}function r(u){for(var c=u.t,s=u.k,a=ue(s),f=a.length-1;f>=0;f--){var h=a[f];if(h!==O){var v=c[h];if(v===void 0&&!H(c,h))return!0;var p=s[h],l=p&&p[O];if(l?l.t!==v:!nr(p,v))return!0}}var d=!!c[O];return a.length!==ue(c).length+(d?0:1)}function n(u){var c=u.k;if(c.length!==u.t.length)return!0;var s=Object.getOwnPropertyDescriptor(c,c.length-1);if(s&&!s.get)return!0;for(var a=0;a<c.length;a++)if(!c.hasOwnProperty(a))return!0;return!1}function i(u){u.g&&_(3,JSON.stringify(j(u)))}var o={};at("ES5",{J:function(u,c){var s=Array.isArray(u),a=function(h,v){if(h){for(var p=Array(v.length),l=0;l<v.length;l++)Object.defineProperty(p,""+l,e(l,!0));return p}var d=lr(v);delete d[O];for(var m=ue(d),b=0;b<m.length;b++){var y=m[b];d[y]=e(y,h||!!d[y].enumerable)}return Object.create(Object.getPrototypeOf(v),d)}(s,u),f={i:s?5:4,A:c?c.A:pe(),P:!1,I:!1,R:{},l:c,t:u,k:a,o:null,g:!1,C:!1};return Object.defineProperty(a,O,{value:f,writable:!0}),a},S:function(u,c,s){s?U(c)&&c[O].A===u&&t(u.p):(u.u&&function a(f){if(f&&typeof f=="object"){var h=f[O];if(h){var v=h.t,p=h.k,l=h.R,d=h.i;if(d===4)q(p,function(w){w!==O&&(v[w]!==void 0||H(v,w)?l[w]||a(p[w]):(l[w]=!0,k(h)))}),q(v,function(w){p[w]!==void 0||H(p,w)||(l[w]=!1,k(h))});else if(d===5){if(n(h)&&(k(h),l.length=!0),p.length<v.length)for(var m=p.length;m<v.length;m++)l[m]=!1;else for(var b=v.length;b<p.length;b++)l[b]=!0;for(var y=Math.min(p.length,v.length),g=0;g<y;g++)p.hasOwnProperty(g)||(l[g]=!0),l[g]===void 0&&a(p[g])}}}}(u.p[0]),t(u.p))},K:function(u){return u.i===4?r(u):n(u)}})}function Vn(){function e(n){if(!D(n))return n;if(Array.isArray(n))return n.map(e);if(De(n))return new Map(Array.from(n.entries()).map(function(u){return[u[0],e(u[1])]}));if(Ne(n))return new Set(Array.from(n).map(e));var i=Object.create(Object.getPrototypeOf(n));for(var o in n)i[o]=e(n[o]);return H(n,be)&&(i[be]=n[be]),i}function t(n){return U(n)?e(n):n}var r="add";at("Patches",{$:function(n,i){return i.forEach(function(o){for(var u=o.path,c=o.op,s=n,a=0;a<u.length-1;a++){var f=B(s),h=u[a];typeof h!="string"&&typeof h!="number"&&(h=""+h),f!==0&&f!==1||h!=="__proto__"&&h!=="constructor"||_(24),typeof s=="function"&&h==="prototype"&&_(24),typeof(s=Re(s,h))!="object"&&_(15,u.join("/"))}var v=B(s),p=e(o.value),l=u[u.length-1];switch(c){case"replace":switch(v){case 2:return s.set(l,p);case 3:_(16);default:return s[l]=p}case r:switch(v){case 1:return l==="-"?s.push(p):s.splice(l,0,p);case 2:return s.set(l,p);case 3:return s.add(p);default:return s[l]=p}case"remove":switch(v){case 1:return s.splice(l,1);case 2:return s.delete(l);case 3:return s.delete(o.value);default:return delete s[l]}default:_(17,c)}}),n},N:function(n,i,o,u){switch(n.i){case 0:case 4:case 2:return function(c,s,a,f){var h=c.t,v=c.o;q(c.R,function(p,l){var d=Re(h,p),m=Re(v,p),b=l?H(h,p)?"replace":r:"remove";if(d!==m||b!=="replace"){var y=s.concat(p);a.push(b==="remove"?{op:b,path:y}:{op:b,path:y,value:m}),f.push(b===r?{op:"remove",path:y}:b==="remove"?{op:r,path:y,value:t(d)}:{op:"replace",path:y,value:t(d)})}})}(n,i,o,u);case 5:case 1:return function(c,s,a,f){var h=c.t,v=c.R,p=c.o;if(p.length<h.length){var l=[p,h];h=l[0],p=l[1];var d=[f,a];a=d[0],f=d[1]}for(var m=0;m<h.length;m++)if(v[m]&&p[m]!==h[m]){var b=s.concat([m]);a.push({op:"replace",path:b,value:t(p[m])}),f.push({op:"replace",path:b,value:t(h[m])})}for(var y=h.length;y<p.length;y++){var g=s.concat([y]);a.push({op:r,path:g,value:t(p[y])})}h.length<p.length&&f.push({op:"replace",path:s.concat(["length"]),value:h.length})}(n,i,o,u);case 3:return function(c,s,a,f){var h=c.t,v=c.o,p=0;h.forEach(function(l){if(!v.has(l)){var d=s.concat([p]);a.push({op:"remove",path:d,value:l}),f.unshift({op:r,path:d,value:l})}p++}),p=0,v.forEach(function(l){if(!h.has(l)){var d=s.concat([p]);a.push({op:r,path:d,value:l}),f.unshift({op:"remove",path:d,value:l})}p++})}(n,i,o,u)}},M:function(n,i,o,u){o.push({op:"replace",path:[],value:i===ht?void 0:i}),u.push({op:"replace",path:[],value:n})}})}function $n(){function e(c,s){function a(){this.constructor=c}i(c,s),c.prototype=(a.prototype=s.prototype,new a)}function t(c){c.o||(c.R=new Map,c.o=new Map(c.t))}function r(c){c.o||(c.o=new Set,c.t.forEach(function(s){if(D(s)){var a=ye(c.A.h,s,c);c.p.set(s,a),c.o.add(a)}else c.o.add(s)}))}function n(c){c.g&&_(3,JSON.stringify(j(c)))}var i=function(c,s){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var h in f)f.hasOwnProperty(h)&&(a[h]=f[h])})(c,s)},o=function(){function c(a,f){return this[O]={i:2,l:f,A:f?f.A:pe(),P:!1,I:!1,o:void 0,R:void 0,t:a,k:this,C:!1,g:!1},this}e(c,Map);var s=c.prototype;return Object.defineProperty(s,"size",{get:function(){return j(this[O]).size}}),s.has=function(a){return j(this[O]).has(a)},s.set=function(a,f){var h=this[O];return n(h),j(h).has(a)&&j(h).get(a)===f||(t(h),k(h),h.R.set(a,!0),h.o.set(a,f),h.R.set(a,!0)),this},s.delete=function(a){if(!this.has(a))return!1;var f=this[O];return n(f),t(f),k(f),f.t.has(a)?f.R.set(a,!1):f.R.delete(a),f.o.delete(a),!0},s.clear=function(){var a=this[O];n(a),j(a).size&&(t(a),k(a),a.R=new Map,q(a.t,function(f){a.R.set(f,!1)}),a.o.clear())},s.forEach=function(a,f){var h=this;j(this[O]).forEach(function(v,p){a.call(f,h.get(p),p,h)})},s.get=function(a){var f=this[O];n(f);var h=j(f).get(a);if(f.I||!D(h)||h!==f.t.get(a))return h;var v=ye(f.A.h,h,f);return t(f),f.o.set(a,v),v},s.keys=function(){return j(this[O]).keys()},s.values=function(){var a,f=this,h=this.keys();return(a={})[Ue]=function(){return f.values()},a.next=function(){var v=h.next();return v.done?v:{done:!1,value:f.get(v.value)}},a},s.entries=function(){var a,f=this,h=this.keys();return(a={})[Ue]=function(){return f.entries()},a.next=function(){var v=h.next();if(v.done)return v;var p=f.get(v.value);return{done:!1,value:[v.value,p]}},a},s[Ue]=function(){return this.entries()},c}(),u=function(){function c(a,f){return this[O]={i:3,l:f,A:f?f.A:pe(),P:!1,I:!1,o:void 0,t:a,k:this,p:new Map,g:!1,C:!1},this}e(c,Set);var s=c.prototype;return Object.defineProperty(s,"size",{get:function(){return j(this[O]).size}}),s.has=function(a){var f=this[O];return n(f),f.o?!!f.o.has(a)||!(!f.p.has(a)||!f.o.has(f.p.get(a))):f.t.has(a)},s.add=function(a){var f=this[O];return n(f),this.has(a)||(r(f),k(f),f.o.add(a)),this},s.delete=function(a){if(!this.has(a))return!1;var f=this[O];return n(f),r(f),k(f),f.o.delete(a)||!!f.p.has(a)&&f.o.delete(f.p.get(a))},s.clear=function(){var a=this[O];n(a),j(a).size&&(r(a),k(a),a.o.clear())},s.values=function(){var a=this[O];return n(a),r(a),a.o.values()},s.entries=function(){var a=this[O];return n(a),r(a),a.o.entries()},s.keys=function(){return this.values()},s[Ue]=function(){return this.values()},s.forEach=function(a,f){for(var h=this.values(),v=h.next();!v.done;)a.call(f,v.value,v.value,this),v=h.next()},c}();at("MapSet",{F:function(c,s){return new o(c,s)},T:function(c,s){return new u(c,s)}})}function la(){cr(),$n(),Vn()}function da(e){return e}function ha(e){return e}var sr,me,dt=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Wn=typeof Map<"u",qn=typeof Set<"u",fr=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",ht=dt?Symbol.for("immer-nothing"):((sr={})["immer-nothing"]=!0,sr),be=dt?Symbol.for("immer-draftable"):"__$immer_draftable",O=dt?Symbol.for("immer-state"):"__$immer_state",Ue=typeof Symbol<"u"&&Symbol.iterator||"@@iterator",va={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Gn=""+Object.prototype.constructor,ue=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,lr=Object.getOwnPropertyDescriptors||function(e){var t={};return ue(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},vt={},ge={get:function(e,t){if(t===O)return e;var r=j(e);if(!H(r,t))return function(i,o,u){var c,s=ar(o,u);return s?"value"in s?s.value:(c=s.get)===null||c===void 0?void 0:c.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!D(n)?n:n===ft(e.t,t)?(lt(e),e.o[t]=ye(e.A.h,n,e)):n},has:function(e,t){return t in j(e)},ownKeys:function(e){return Reflect.ownKeys(j(e))},set:function(e,t,r){var n=ar(j(e),t);if(n?.set)return n.set.call(e.k,r),!0;if(!e.P){var i=ft(j(e),t),o=i?.[O];if(o&&o.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(nr(r,i)&&(r!==void 0||H(e.t,t)))return!0;lt(e),k(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return ft(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,lt(e),k(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=j(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){_(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){_(12)}},we={};q(ge,function(e,t){we[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),we.deleteProperty=function(e,t){return we.set.call(this,e,t,void 0)},we.set=function(e,t,r){return ge.set.call(this,e[0],t,r,e[0])};var Kn=function(){function e(r){var n=this;this.O=fr,this.D=!0,this.produce=function(i,o,u){if(typeof i=="function"&&typeof o!="function"){var c=o;o=i;var s=n;return function(d){var m=this;d===void 0&&(d=c);for(var b=arguments.length,y=Array(b>1?b-1:0),g=1;g<b;g++)y[g-1]=arguments[g];return s.produce(d,function(w){var S;return(S=o).call.apply(S,[m,w].concat(y))})}}var a;if(typeof o!="function"&&_(6),u!==void 0&&typeof u!="function"&&_(7),D(i)){var f=ir(n),h=ye(n,i,void 0),v=!0;try{a=o(h),v=!1}finally{v?Le(f):ct(f)}return typeof Promise<"u"&&a instanceof Promise?a.then(function(d){return ut(f,u),st(d,f)},function(d){throw Le(f),d}):(ut(f,u),st(a,f))}if(!i||typeof i!="object"){if((a=o(i))===void 0&&(a=i),a===ht&&(a=void 0),n.D&&it(a,!0),u){var p=[],l=[];V("Patches").M(i,a,p,l),u(p,l)}return a}_(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(a){for(var f=arguments.length,h=Array(f>1?f-1:0),v=1;v<f;v++)h[v-1]=arguments[v];return n.produceWithPatches(a,function(p){return i.apply(void 0,[p].concat(h))})};var u,c,s=n.produce(i,o,function(a,f){u=a,c=f});return typeof Promise<"u"&&s instanceof Promise?s.then(function(a){return[a,u,c]}):[s,u,c]},typeof r?.useProxies=="boolean"&&this.setUseProxies(r.useProxies),typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){D(r)||_(8),U(r)&&(r=Un(r));var n=ir(this),i=ye(this,r,void 0);return i[O].C=!0,ct(n),i},t.finishDraft=function(r,n){var i=r&&r[O],o=i.A;return ut(o,n),st(void 0,o)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!fr&&_(20),this.O=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}i>-1&&(n=n.slice(i+1));var u=V("Patches").$;return U(r)?u(r,n):this.produce(r,function(c){return u(c,n)})},e}(),R=new Kn,Bn=R.produce,pa=R.produceWithPatches.bind(R),ya=R.setAutoFreeze.bind(R),ma=R.setUseProxies.bind(R),ba=R.applyPatches.bind(R),ga=R.createDraft.bind(R),wa=R.finishDraft.bind(R);const dr=Bn;function hr(e){var t=function(n){var i=n.dispatch,o=n.getState;return function(u){return function(c){return typeof c=="function"?c(i,o,e):u(c)}}};return t}var vr=hr();vr.withExtraArgument=hr;const pr=vr;var yr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oe=function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(a){return function(f){return s([a,f])}}function s(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(f){a=[6,f],i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},X=function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},Hn=Object.defineProperty,Xn=Object.defineProperties,Jn=Object.getOwnPropertyDescriptors,mr=Object.getOwnPropertySymbols,Yn=Object.prototype.hasOwnProperty,Qn=Object.prototype.propertyIsEnumerable,br=function(e,t,r){return t in e?Hn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},C=function(e,t){for(var r in t||(t={}))Yn.call(t,r)&&br(e,r,t[r]);if(mr)for(var n=0,i=mr(t);n<i.length;n++){var r=i[n];Qn.call(t,r)&&br(e,r,t[r])}return e},pt=function(e,t){return Xn(e,Jn(t))},Se=function(e,t,r){return new Promise(function(n,i){var o=function(s){try{c(r.next(s))}catch(a){i(a)}},u=function(s){try{c(r.throw(s))}catch(a){i(a)}},c=function(s){return s.done?n(s.value):Promise.resolve(s.value).then(o,u)};c((r=r.apply(e,t)).next())})},J=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=createSelector.apply(void 0,e),n=function(i){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];return r.apply(void 0,X([isDraft(i)?current(i):i],o))};return n},Zn=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ce:Ce.apply(null,arguments)},Oa=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}};function yt(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}function gr(e,t){var r=0;return{measureTime:function(n){var i=Date.now();try{return n()}finally{var o=Date.now();r+=o-i}},warnIfExceeded:function(){r>e&&console.warn(t+" took "+r+"ms, which is more than the warning threshold of "+e+`ms. 
If your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.
It is disabled in production builds, so you don't need to worry about that.`)}}}var ei=function(e){yr(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,X([void 0],r[0].concat(this)))):new(t.bind.apply(t,X([void 0],r.concat(this))))},t}(Array),ti=function(e){yr(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,X([void 0],r[0].concat(this)))):new(t.bind.apply(t,X([void 0],r.concat(this))))},t}(Array);function mt(e){return D(e)?dr(e,function(){}):e}var ri=null,wr="Invariant failed";function Or(e,t){if(!e)throw ri?new Error(wr):new Error(wr+": "+(t||""))}function ni(e,t,r,n){return JSON.stringify(e,ii(t,n),r)}function ii(e,t){var r=[],n=[];return t||(t=function(i,o){return r[0]===o?"[Circular ~]":"[Circular ~."+n.slice(0,r.indexOf(o)).join(".")+"]"}),function(i,o){if(r.length>0){var u=r.indexOf(this);~u?r.splice(u+1):r.push(this),~u?n.splice(u,1/0,i):n.push(i),~r.indexOf(o)&&(o=t.call(this,i,o))}else r.push(o);return e==null?o:e.call(this,i,o)}}function oi(e){return typeof e!="object"||e==null||Object.isFrozen(e)}function ai(e,t,r){var n=Sr(e,t,r);return{detectMutations:function(){return Er(e,t,n,r)}}}function Sr(e,t,r,n){t===void 0&&(t=[]),n===void 0&&(n="");var i={value:r};if(!e(r)){i.children={};for(var o in r){var u=n?n+"."+o:o;t.length&&t.indexOf(u)!==-1||(i.children[o]=Sr(e,t,r[o],u))}}return i}function Er(e,t,r,n,i,o){t===void 0&&(t=[]),i===void 0&&(i=!1),o===void 0&&(o="");var u=r?r.value:void 0,c=u===n;if(i&&!c&&!Number.isNaN(n))return{wasMutated:!0,path:o};if(e(u)||e(n))return{wasMutated:!1};var s={};for(var a in r.children)s[a]=!0;for(var a in n)s[a]=!0;var f=t.length>0,h=function(p){var l=o?o+"."+p:p;if(f){var d=t.some(function(b){return b instanceof RegExp?b.test(l):l===b});if(d)return"continue"}var m=Er(e,t,r.children[p],n[p],c,l);if(m.wasMutated)return{value:m}};for(var a in s){var v=h(a);if(typeof v=="object")return v.value}return{wasMutated:!1}}function Sa(e){return e===void 0&&(e={}),function(){return function(s){return function(a){return s(a)}}};var t=e.isImmutable,r=t===void 0?oi:t,n=e.ignoredPaths,i=e.warnAfter,o=i===void 0?32:i,u=e.ignore;n=n||u;var c=ai.bind(null,r,n);return function(s){var a=s.getState,f=a(),h=c(f),v;return function(p){return function(l){var d=gr(o,"ImmutableStateInvariantMiddleware");d.measureTime(function(){f=a(),v=h.detectMutations(),h=c(f),Or(!v.wasMutated,"A state mutation was detected between dispatches, in the path '"+(v.path||"")+"'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)")});var m=p(l);return d.measureTime(function(){f=a(),v=h.detectMutations(),h=c(f),v.wasMutated&&Or(!v.wasMutated,"A state mutation was detected inside a dispatch, in the path: "+(v.path||"")+". Take a look at the reducer(s) handling the action "+ni(l)+". (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)")}),d.warnIfExceeded(),m}}}}function Ar(e){var t=typeof e;return e==null||t==="string"||t==="boolean"||t==="number"||Array.isArray(e)||yt(e)}function bt(e,t,r,n,i,o){t===void 0&&(t=""),r===void 0&&(r=Ar),i===void 0&&(i=[]);var u;if(!r(e))return{keyPath:t||"<root>",value:e};if(typeof e!="object"||e===null||o?.has(e))return!1;for(var c=n!=null?n(e):Object.entries(e),s=i.length>0,a=function(m,b){var y=t?t+"."+m:m;if(s){var g=i.some(function(w){return w instanceof RegExp?w.test(y):y===w});if(g)return"continue"}if(!r(b))return{value:{keyPath:y,value:b}};if(typeof b=="object"&&(u=bt(b,y,r,n,i,o),u))return{value:u}},f=0,h=c;f<h.length;f++){var v=h[f],p=v[0],l=v[1],d=a(p,l);if(typeof d=="object")return d.value}return o&&Pr(e)&&o.add(e),!1}function Pr(e){if(!Object.isFrozen(e))return!1;for(var t=0,r=Object.values(e);t<r.length;t++){var n=r[t];if(!(typeof n!="object"||n===null)&&!Pr(n))return!1}return!0}function Ea(e){return e===void 0&&(e={}),function(){return function(g){return function(w){return g(w)}}};var t=e.isSerializable,r=t===void 0?Ar:t,n=e.getEntries,i=e.ignoredActions,o=i===void 0?[]:i,u=e.ignoredActionPaths,c=u===void 0?["meta.arg","meta.baseQueryMeta"]:u,s=e.ignoredPaths,a=s===void 0?[]:s,f=e.warnAfter,h=f===void 0?32:f,v=e.ignoreState,p=v===void 0?!1:v,l=e.ignoreActions,d=l===void 0?!1:l,m=e.disableCache,b=m===void 0?!1:m,y=!b&&WeakSet?new WeakSet:void 0;return function(g){return function(w){return function(S){var A=w(S),T=gr(h,"SerializableStateInvariantMiddleware");return!d&&!(o.length&&o.indexOf(S.type)!==-1)&&T.measureTime(function(){var M=bt(S,"",r,n,c,y);if(M){var I=M.keyPath,de=M.value;console.error("A non-serializable value was detected in an action, in the path: `"+I+"`. Value:",de,`
Take a look at the logic that dispatched this action: `,S,`
(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)`,`
(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)`)}}),p||(T.measureTime(function(){var M=g.getState(),I=bt(M,"",r,n,a,y);if(I){var de=I.keyPath,Y=I.value;console.error("A non-serializable value was detected in the state, in the path: `"+de+"`. Value:",Y,`
Take a look at the reducer(s) handling this action type: `+S.type+`.
(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)`)}}),T.warnIfExceeded()),A}}}}function ui(e){return typeof e=="boolean"}function ci(){return function(t){return si(t)}}function si(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t,n=e.immutableCheck,i=n===void 0?!0:n,o=e.serializableCheck,u=o===void 0?!0:o,c=new ei;if(r&&(ui(r)?c.push(pr):c.push(pr.withExtraArgument(r.extraArgument))),!1)var s,a;return c}var gt=!0;function fi(e){var t=ci(),r=e||{},n=r.reducer,i=n===void 0?void 0:n,o=r.middleware,u=o===void 0?t():o,c=r.devTools,s=c===void 0?!0:c,a=r.preloadedState,f=a===void 0?void 0:a,h=r.enhancers,v=h===void 0?void 0:h,p;if(typeof i=="function")p=i;else if(yt(i))p=er(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var l=u;if(typeof l=="function"&&(l=l(t),!gt&&!Array.isArray(l)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!gt&&l.some(function(w){return typeof w!="function"}))throw new Error("each middleware provided to configureStore must be a function");var d=Ln.apply(void 0,l),m=Ce;s&&(m=Zn(C({trace:!gt},typeof s=="object"&&s)));var b=new ti(d),y=b;Array.isArray(v)?y=X([d],v):typeof v=="function"&&(y=v(b));var g=m.apply(void 0,y);return Zt(p,f,g)}function N(e,t){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return C(C({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}function _r(e){return yt(e)&&"type"in e}function li(e){return _r(e)&&typeof e.type=="string"&&Object.keys(e).every(di)}function di(e){return["type","payload","error","meta"].indexOf(e)>-1}function Aa(e){return""+e}function jr(e){var t={},r=[],n,i={addCase:function(o,u){var c=typeof o=="string"?o:o.type;if(c in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[c]=u,i},addMatcher:function(o,u){return r.push({matcher:o,reducer:u}),i},addDefaultCase:function(o){return n=o,i}};return e(i),[t,r,n]}function hi(e){return typeof e=="function"}var Pa=!1;function wt(e,t,r,n){r===void 0&&(r=[]);var i=typeof t=="function"?jr(t):[t,r,n],o=i[0],u=i[1],c=i[2],s;if(hi(e))s=function(){return mt(e())};else{var a=mt(e);s=function(){return a}}function f(h,v){h===void 0&&(h=s());var p=X([o[v.type]],u.filter(function(l){var d=l.matcher;return d(v)}).map(function(l){var d=l.reducer;return d}));return p.filter(function(l){return!!l}).length===0&&(p=[c]),p.reduce(function(l,d){if(d)if(U(l)){var m=l,b=d(m,v);return b===void 0?l:b}else{if(D(l))return dr(l,function(y){return d(y,v)});var b=d(l,v);if(b===void 0){if(l===null)return l;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}return l},h)}return f.getInitialState=s,f}var _a=!1;function vi(e,t){return e+"/"+t}function ja(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof e.initialState=="function"?e.initialState:mt(e.initialState),n=e.reducers||{},i=Object.keys(n),o={},u={},c={};i.forEach(function(f){var h=n[f],v=vi(t,f),p,l;"reducer"in h?(p=h.reducer,l=h.prepare):p=h,o[f]=p,u[v]=p,c[f]=l?N(v,l):N(v)});function s(){var f=typeof e.extraReducers=="function"?jr(e.extraReducers):[e.extraReducers],h=f[0],v=h===void 0?{}:h,p=f[1],l=p===void 0?[]:p,d=f[2],m=d===void 0?void 0:d,b=C(C({},v),u);return wt(r,function(y){for(var g in b)y.addCase(g,b[g]);for(var w=0,S=l;w<S.length;w++){var A=S[w];y.addMatcher(A.matcher,A.reducer)}m&&y.addDefaultCase(m)})}var a;return{name:t,reducer:function(f,h){return a||(a=s()),a(f,h)},actions:c,caseReducers:o,getInitialState:function(){return a||(a=s()),a.getInitialState()}}}function pi(){return{ids:[],entities:{}}}function yi(){function e(t){return t===void 0&&(t={}),Object.assign(pi(),t)}return{getInitialState:e}}function mi(){function e(t){var r=function(a){return a.ids},n=function(a){return a.entities},i=J(r,n,function(a,f){return a.map(function(h){return f[h]})}),o=function(a,f){return f},u=function(a,f){return a[f]},c=J(r,function(a){return a.length});if(!t)return{selectIds:r,selectEntities:n,selectAll:i,selectTotal:c,selectById:J(n,o,u)};var s=J(t,n);return{selectIds:J(t,r),selectEntities:s,selectAll:J(t,i),selectTotal:J(t,c),selectById:J(s,o,u)}}return{getSelectors:e}}function bi(e){var t=P(function(r,n){return e(n)});return function(n){return t(n,void 0)}}function P(e){return function(r,n){function i(u){return li(u)}var o=function(u){i(n)?e(n.payload,u):e(n,u)};return isDraft3(r)?(o(r),r):createNextState3(r,o)}}function Ee(e,t){var r=t(e);return r}function ne(e){return Array.isArray(e)||(e=Object.values(e)),e}function Tr(e,t,r){e=ne(e);for(var n=[],i=[],o=0,u=e;o<u.length;o++){var c=u[o],s=Ee(c,t);s in r.entities?i.push({id:s,changes:c}):n.push(c)}return[n,i]}function xr(e){function t(l,d){var m=Ee(l,e);m in d.entities||(d.ids.push(m),d.entities[m]=l)}function r(l,d){l=ne(l);for(var m=0,b=l;m<b.length;m++){var y=b[m];t(y,d)}}function n(l,d){var m=Ee(l,e);m in d.entities||d.ids.push(m),d.entities[m]=l}function i(l,d){l=ne(l);for(var m=0,b=l;m<b.length;m++){var y=b[m];n(y,d)}}function o(l,d){l=ne(l),d.ids=[],d.entities={},r(l,d)}function u(l,d){return c([l],d)}function c(l,d){var m=!1;l.forEach(function(b){b in d.entities&&(delete d.entities[b],m=!0)}),m&&(d.ids=d.ids.filter(function(b){return b in d.entities}))}function s(l){Object.assign(l,{ids:[],entities:{}})}function a(l,d,m){var b=m.entities[d.id],y=Object.assign({},b,d.changes),g=Ee(y,e),w=g!==d.id;return w&&(l[d.id]=g,delete m.entities[d.id]),m.entities[g]=y,w}function f(l,d){return h([l],d)}function h(l,d){var m={},b={};l.forEach(function(w){w.id in d.entities&&(b[w.id]={id:w.id,changes:C(C({},b[w.id]?b[w.id].changes:null),w.changes)})}),l=Object.values(b);var y=l.length>0;if(y){var g=l.filter(function(w){return a(m,w,d)}).length>0;g&&(d.ids=Object.keys(d.entities))}}function v(l,d){return p([l],d)}function p(l,d){var m=Tr(l,e,d),b=m[0],y=m[1];h(y,d),r(b,d)}return{removeAll:bi(s),addOne:P(t),addMany:P(r),setOne:P(n),setMany:P(i),setAll:P(o),updateOne:P(f),updateMany:P(h),upsertOne:P(v),upsertMany:P(p),removeOne:P(u),removeMany:P(c)}}function gi(e,t){var r=xr(e),n=r.removeOne,i=r.removeMany,o=r.removeAll;function u(y,g){return c([y],g)}function c(y,g){y=ne(y);var w=y.filter(function(S){return!(Ee(S,e)in g.entities)});w.length!==0&&m(w,g)}function s(y,g){return a([y],g)}function a(y,g){y=ne(y),y.length!==0&&m(y,g)}function f(y,g){y=ne(y),g.entities={},g.ids=[],c(y,g)}function h(y,g){return v([y],g)}function v(y,g){for(var w=!1,S=0,A=y;S<A.length;S++){var T=A[S],M=g.entities[T.id];if(M){w=!0,Object.assign(M,T.changes);var I=e(M);T.id!==I&&(delete g.entities[T.id],g.entities[I]=M)}}w&&b(g)}function p(y,g){return l([y],g)}function l(y,g){var w=Tr(y,e,g),S=w[0],A=w[1];v(A,g),c(S,g)}function d(y,g){if(y.length!==g.length)return!1;for(var w=0;w<y.length&&w<g.length;w++)if(y[w]!==g[w])return!1;return!0}function m(y,g){y.forEach(function(w){g.entities[e(w)]=w}),b(g)}function b(y){var g=Object.values(y.entities);g.sort(t);var w=g.map(e),S=y.ids;d(S,w)||(y.ids=w)}return{removeOne:n,removeMany:i,removeAll:o,addOne:P(u),updateOne:P(h),upsertOne:P(p),setOne:P(s),setMany:P(a),setAll:P(f),addMany:P(c),updateMany:P(v),upsertMany:P(l)}}function Ta(e){e===void 0&&(e={});var t=C({sortComparer:!1,selectId:function(c){return c.id}},e),r=t.selectId,n=t.sortComparer,i=yi(),o=mi(),u=n?gi(r,n):xr(r);return C(C(C({selectId:r,sortComparer:n},i),o),u)}var wi="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Mr=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=wi[Math.random()*64|0];return t},Oi=["name","message","stack","code"],Ot=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),Ir=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),Si=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=Oi;r<n.length;r++){var i=n[r];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}},xa=function(){function e(t,r,n){var i=N(t+"/fulfilled",function(f,h,v,p){return{payload:f,meta:pt(C({},p||{}),{arg:v,requestId:h,requestStatus:"fulfilled"})}}),o=N(t+"/pending",function(f,h,v){return{payload:void 0,meta:pt(C({},v||{}),{arg:h,requestId:f,requestStatus:"pending"})}}),u=N(t+"/rejected",function(f,h,v,p,l){return{payload:p,error:(n&&n.serializeError||Si)(f||"Rejected"),meta:pt(C({},l||{}),{arg:v,requestId:h,rejectedWithValue:!!p,requestStatus:"rejected",aborted:f?.name==="AbortError",condition:f?.name==="ConditionError"})}}),c=!1,s=typeof AbortController<"u"?AbortController:function(){function f(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return f.prototype.abort=function(){},f}();function a(f){return function(h,v,p){var l=n?.idGenerator?n.idGenerator(f):Mr(),d=new s,m,b=!1;function y(w){m=w,d.abort()}var g=function(){return Se(this,null,function(){var w,S,A,T,M,I,de;return Oe(this,function(Y){switch(Y.label){case 0:return Y.trys.push([0,4,,5]),T=(w=n?.condition)==null?void 0:w.call(n,f,{getState:v,extra:p}),Ai(T)?[4,T]:[3,2];case 1:T=Y.sent(),Y.label=2;case 2:if(T===!1||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return b=!0,M=new Promise(function(F,je){return d.signal.addEventListener("abort",function(){return je({name:"AbortError",message:m||"Aborted"})})}),h(o(l,f,(S=n?.getPendingMeta)==null?void 0:S.call(n,{requestId:l,arg:f},{getState:v,extra:p}))),[4,Promise.race([M,Promise.resolve(r(f,{dispatch:h,getState:v,extra:p,requestId:l,signal:d.signal,abort:y,rejectWithValue:function(F,je){return new Ot(F,je)},fulfillWithValue:function(F,je){return new Ir(F,je)}})).then(function(F){if(F instanceof Ot)throw F;return F instanceof Ir?i(F.payload,l,f,F.meta):i(F,l,f)})])];case 3:return A=Y.sent(),[3,5];case 4:return I=Y.sent(),A=I instanceof Ot?u(null,l,f,I.payload,I.meta):u(I,l,f),[3,5];case 5:return de=n&&!n.dispatchConditionRejection&&u.match(A)&&A.meta.condition,de||h(A),[2,A]}})})}();return Object.assign(g,{abort:y,requestId:l,arg:f,unwrap:function(){return g.then(Ei)}})}}return Object.assign(a,{pending:o,rejected:u,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e}();function Ei(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Ai(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Pi=function(e){return e&&typeof e.match=="function"},kr=function(e,t){return Pi(e)?e.match(t):e(t)};function Ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return e.some(function(n){return kr(n,r)})}}function Cr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return e.every(function(n){return kr(n,r)})}}function $e(e,t){if(!e||!e.meta)return!1;var r=typeof e.meta.requestId=="string",n=t.indexOf(e.meta.requestStatus)>-1;return r&&n}function Ae(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function _i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return $e(r,["pending"])}:Ae(e)?function(r){var n=e.map(function(o){return o.pending}),i=Ve.apply(void 0,n);return i(r)}:_i()(e[0])}function St(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return $e(r,["rejected"])}:Ae(e)?function(r){var n=e.map(function(o){return o.rejected}),i=Ve.apply(void 0,n);return i(r)}:St()(e[0])}function ji(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=function(n){return n&&n.meta&&n.meta.rejectedWithValue};return e.length===0?function(n){var i=Cr(St.apply(void 0,e),r);return i(n)}:Ae(e)?function(n){var i=Cr(St.apply(void 0,e),r);return i(n)}:ji()(e[0])}function Ti(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return $e(r,["fulfilled"])}:Ae(e)?function(r){var n=e.map(function(o){return o.fulfilled}),i=Ve.apply(void 0,n);return i(r)}:Ti()(e[0])}function xi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return $e(r,["pending","fulfilled","rejected"])}:Ae(e)?function(r){for(var n=[],i=0,o=e;i<o.length;i++){var u=o[i];n.push(u.pending,u.rejected,u.fulfilled)}var c=Ve.apply(void 0,n);return c(r)}:xi()(e[0])}var Et=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},At=function(){},Rr=function(e,t){return t===void 0&&(t=At),e.catch(t),e},Dr=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},ce=function(e,t){var r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Mi="task",Nr="listener",Lr="completed",Pt="cancelled",Ii="task-"+Pt,ki="task-"+Lr,Fr=Nr+"-"+Pt,Ci=Nr+"-"+Lr,We=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=Mi+" "+Pt+" (reason: "+t+")"}return e}(),se=function(e){if(e.aborted)throw new We(e.reason)};function zr(e,t){var r=At;return new Promise(function(n,i){var o=function(){return i(new We(e.reason))};if(e.aborted){o();return}r=Dr(e,o),t.finally(function(){return r()}).then(n,i)}).finally(function(){r=At})}var Ri=function(e,t){return Se(void 0,null,function(){var r,n;return Oe(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return r=i.sent(),[2,{status:"ok",value:r}];case 3:return n=i.sent(),[2,{status:n instanceof We?"cancelled":"rejected",error:n}];case 4:return t?.(),[7];case 5:return[2]}})})},qe=function(e){return function(t){return Rr(zr(e,t).then(function(r){return se(e),r}))}},Ur=function(e){var t=qe(e);return function(r){return t(new Promise(function(n){return setTimeout(n,r)}))}},Di=Object.assign,Vr={},Pe="listenerMiddleware",Ni=function(e){var t=function(r){return Dr(e,function(){return ce(r,e.reason)})};return function(r){Et(r,"taskExecutor");var n=new AbortController;t(n);var i=Ri(function(){return Se(void 0,null,function(){var o;return Oe(this,function(u){switch(u.label){case 0:return se(e),se(n.signal),[4,r({pause:qe(n.signal),delay:Ur(n.signal),signal:n.signal})];case 1:return o=u.sent(),se(n.signal),[2,o]}})})},function(){return ce(n,ki)});return{result:qe(e)(i),cancel:function(){ce(n,Ii)}}}},Li=function(e,t){var r=function(n,i){return Se(void 0,null,function(){var o,u,c,s;return Oe(this,function(a){switch(a.label){case 0:se(t),o=function(){},u=new Promise(function(f,h){var v=e({predicate:n,effect:function(p,l){l.unsubscribe(),f([p,l.getState(),l.getOriginalState()])}});o=function(){v(),h()}}),c=[u],i!=null&&c.push(new Promise(function(f){return setTimeout(f,i,null)})),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,zr(t,Promise.race(c))];case 2:return s=a.sent(),se(t),[2,s];case 3:return o(),[7];case 4:return[2]}})})};return function(n,i){return Rr(r(n,i))}},$r=function(e){var t=e.type,r=e.actionCreator,n=e.matcher,i=e.predicate,o=e.effect;if(t)i=N(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return Et(o,"options.listener"),{predicate:i,type:t,effect:o}},Fi=function(e){var t=$r(e),r=t.type,n=t.predicate,i=t.effect,o=Mr(),u={id:o,effect:i,type:r,predicate:n,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return u},_t=function(e){e.pending.forEach(function(t){ce(t,Fr)})},zi=function(e){return function(){e.forEach(_t),e.clear()}},Wr=function(e,t,r){try{e(t,r)}catch(n){setTimeout(function(){throw n},0)}},Ui=N(Pe+"/add"),Vi=N(Pe+"/removeAll"),$i=N(Pe+"/remove"),Wi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,X([Pe+"/error"],e))};function Ma(e){var t=this;e===void 0&&(e={});var r=new Map,n=e.extra,i=e.onError,o=i===void 0?Wi:i;Et(o,"onError");var u=function(p){return p.unsubscribe=function(){return r.delete(p.id)},r.set(p.id,p),function(l){p.unsubscribe(),l?.cancelActive&&_t(p)}},c=function(p){for(var l=0,d=Array.from(r.values());l<d.length;l++){var m=d[l];if(p(m))return m}},s=function(p){var l=c(function(d){return d.effect===p.effect});return l||(l=Fi(p)),u(l)},a=function(p){var l=$r(p),d=l.type,m=l.effect,b=l.predicate,y=c(function(g){var w=typeof d=="string"?g.type===d:g.predicate===b;return w&&g.effect===m});return y&&(y.unsubscribe(),p.cancelActive&&_t(y)),!!y},f=function(p,l,d,m){return Se(t,null,function(){var b,y,g;return Oe(this,function(w){switch(w.label){case 0:b=new AbortController,y=Li(s,b.signal),w.label=1;case 1:return w.trys.push([1,3,4,5]),p.pending.add(b),[4,Promise.resolve(p.effect(l,Di({},d,{getOriginalState:m,condition:function(S,A){return y(S,A).then(Boolean)},take:y,delay:Ur(b.signal),pause:qe(b.signal),extra:n,signal:b.signal,fork:Ni(b.signal),unsubscribe:p.unsubscribe,subscribe:function(){r.set(p.id,p)},cancelActiveListeners:function(){p.pending.forEach(function(S,A,T){S!==b&&(ce(S,Fr),T.delete(S))})}})))];case 2:return w.sent(),[3,5];case 3:return g=w.sent(),g instanceof We||Wr(o,g,{raisedBy:"effect"}),[3,5];case 4:return ce(b,Ci),p.pending.delete(b),[7];case 5:return[2]}})})},h=zi(r),v=function(p){return function(l){return function(d){if(!_r(d))return l(d);if(Ui.match(d))return s(d.payload);if(Vi.match(d)){h();return}if($i.match(d))return a(d.payload);var m=p.getState(),b=function(){if(m===Vr)throw new Error(Pe+": getOriginalState can only be called synchronously");return m},y;try{if(y=l(d),r.size>0)for(var g=p.getState(),w=Array.from(r.values()),S=0,A=w;S<A.length;S++){var T=A[S],M=!1;try{M=T.predicate(d,g,m)}catch(I){M=!1,Wr(o,I,{raisedBy:"predicate"})}M&&f(T,d,p,b)}}finally{m=Vr}return y}}};return{middleware:v,startListening:s,stopListening:a,clearListeners:h}}var qr="RTK_autoBatch",Ia=function(){return function(e){var t;return{payload:e,meta:(t={},t[qr]=!0,t)}}},Gr,qi=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof Be.g<"u"?Be.g:globalThis):function(e){return(Gr||(Gr=Promise.resolve())).then(e).catch(function(t){return setTimeout(function(){throw t},0)})},Kr=function(e){return function(t){setTimeout(t,e)}},Gi=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Kr(10),ka=function(e){return e===void 0&&(e={type:"raf"}),function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(void 0,r),o=!0,u=!1,c=!1,s=new Set,a=e.type==="tick"?qi:e.type==="raf"?Gi:e.type==="callback"?e.queueNotification:Kr(e.timeout),f=function(){c=!1,u&&(u=!1,s.forEach(function(h){return h()}))};return Object.assign({},i,{subscribe:function(h){var v=function(){return o&&h()},p=i.subscribe(v);return s.add(h),function(){p(),s.delete(h)}},dispatch:function(h){var v;try{return o=!((v=h?.meta)!=null&&v[qr]),u=!o,u&&(c||(c=!0,a(f))),i.dispatch(h)}finally{o=!0}}})}}};cr();var jt=(e=>(e.SET_STATUS="SET_STATUS",e.SET_MODE="SET_MODE",e))(jt||{});const Ge=N(jt.SET_STATUS);var Br=(e=>(e.HARD="HARD",e.NORMAL="NORMAL",e))(Br||{}),L=(e=>(e.START="START",e.LOSE="LOSE",e.WIN="WIN",e.PENDING="PENDING",e))(L||{});const Hr={status:L.PENDING,mode:Br.NORMAL},Ki=wt(Hr.status,e=>{e.addCase(Ge,(t,{payload:r})=>r)}),Bi=N(jt.SET_MODE),Hi=wt(Hr.mode,e=>{e.addCase(Bi,(t,{payload:r})=>r)}),Xi=er({status:Ki,mode:Hi}),G=fi({reducer:Xi});class Ji{element;constructor({src:t}){this.element=new Audio,this.element.volume=.1,t&&(this.element.src=t)}play(){this.element.play()}setSrc(t){this.element.src=t}replay(){this.element.currentTime=0,this.play()}reset(){this.element.currentTime=0}setVolume(t){this.element.volume=t/100}getVolume(){return this.element.volume*100}stop(){this.element.pause()}}class Yi extends Ji{constructor({src:t}){super({src:t}),this.subscribeStore()}planeMute(t=100){Kt(t).pipe(Bt(()=>this.getVolume()-1>=0),Ht(()=>{this.stop()})).subscribe(()=>this.setVolume(this.getVolume()-1))}subscribeStore(){G.subscribe(()=>{const{status:t}=G.getState();switch(t){case L.START:this.play();break;case L.LOSE:this.planeMute();break;case L.PENDING:this.reset();break;default:break}})}}var Tt=(e=>(e.dotClick="dotClick",e))(Tt||{}),Xr=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Qi(e){return E(e?.then)}function Zi(e){return E(e[tt])}function eo(e){return Symbol.asyncIterator&&E(e?.[Symbol.asyncIterator])}function to(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function ro(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var no=ro();function io(e){return E(e?.[no])}function oo(e){return un(this,arguments,function(){var r,n,i,o;return kt(this,function(u){switch(u.label){case 0:r=e.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,Z(r.read())];case 3:return n=u.sent(),i=n.value,o=n.done,o?[4,Z(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,Z(i)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function ao(e){return E(e?.getReader)}function Ke(e){if(e instanceof z)return e;if(e!=null){if(Zi(e))return uo(e);if(Xr(e))return co(e);if(Qi(e))return so(e);if(eo(e))return Jr(e);if(io(e))return fo(e);if(ao(e))return lo(e)}throw to(e)}function uo(e){return new z(function(t){var r=e[tt]();if(E(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function co(e){return new z(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function so(e){return new z(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,Vt)})}function fo(e){return new z(function(t){var r,n;try{for(var i=ie(e),o=i.next();!o.done;o=i.next()){var u=o.value;if(t.next(u),t.closed)return}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()})}function Jr(e){return new z(function(t){ho(e,t).catch(function(r){return t.error(r)})})}function lo(e){return Jr(oo(e))}function ho(e,t){var r,n,i,o;return an(this,void 0,void 0,function(){var u,c;return kt(this,function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),r=cn(e),s.label=1;case 1:return[4,r.next()];case 2:if(n=s.sent(),!!n.done)return[3,4];if(u=n.value,t.next(u),t.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=s.sent(),i={error:c},[3,11];case 6:return s.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function xt(e,t){return oe(function(r,n){var i=0;r.subscribe(re(n,function(o){n.next(e.call(t,o,i++))}))})}function vo(e,t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function po(e,t,r,n,i,o,u,c){var s=[],a=0,f=0,h=!1,v=function(){h&&!s.length&&!a&&t.complete()},p=function(d){return a<n?l(d):s.push(d)},l=function(d){o&&t.next(d),a++;var m=!1;Ke(r(d,f++)).subscribe(re(t,function(b){i?.(b),o?p(b):t.next(b)},function(){m=!0},void 0,function(){if(m)try{a--;for(var b=function(){var y=s.shift();u?vo(t,u,function(){return l(y)}):l(y)};s.length&&a<n;)b();v()}catch(y){t.error(y)}}))};return e.subscribe(re(t,p,function(){h=!0,v()})),function(){c?.()}}function Yr(e,t,r){return r===void 0&&(r=1/0),E(t)?Yr(function(n,i){return xt(function(o,u){return t(n,o,i,u)})(Ke(e(n,i)))},r):(typeof t=="number"&&(r=t),oe(function(n,i){return po(n,i,e,r)}))}var yo=Array.isArray;function mo(e,t){return yo(t)?e.apply(void 0,Q([],W(t))):e(t)}function bo(e){return xt(function(t){return mo(e,t)})}var go=["addListener","removeListener"],wo=["addEventListener","removeEventListener"],Oo=["on","off"];function Mt(e,t,r,n){if(E(r)&&(n=r,r=void 0),n)return Mt(e,t,r).pipe(bo(n));var i=W(Ao(e)?wo.map(function(c){return function(s){return e[c](t,s,r)}}):So(e)?go.map(Qr(e,t)):Eo(e)?Oo.map(Qr(e,t)):[],2),o=i[0],u=i[1];if(!o&&Xr(e))return Yr(function(c){return Mt(c,t,r)})(Ke(e));if(!o)throw new TypeError("Invalid event target");return new z(function(c){var s=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];return c.next(1<a.length?a:a[0])};return o(s),function(){return u(s)}})}function Qr(e,t){return function(r){return function(n){return e[r](t,n)}}}function So(e){return E(e.addListener)&&E(e.removeListener)}function Eo(e){return E(e.on)&&E(e.off)}function Ao(e){return E(e.addEventListener)&&E(e.removeEventListener)}function Po(e,t,r){var n=E(e)||t||r?{next:e,error:t,complete:r}:e;return n?oe(function(i,o){var u;(u=n.subscribe)===null||u===void 0||u.call(n);var c=!0;i.subscribe(re(o,function(s){var a;(a=n.next)===null||a===void 0||a.call(n,s),o.next(s)},function(){var s;c=!1,(s=n.complete)===null||s===void 0||s.call(n),o.complete()},function(s){var a;c=!1,(a=n.error)===null||a===void 0||a.call(n,s),o.error(s)},function(){var s,a;c&&((s=n.unsubscribe)===null||s===void 0||s.call(n)),(a=n.finalize)===null||a===void 0||a.call(n)}))}):Wt}function _o(e,t){return oe(function(r,n){var i=null,o=0,u=!1,c=function(){return u&&!i&&n.complete()};r.subscribe(re(n,function(s){i?.unsubscribe();var a=0,f=o++;Ke(e(s,f)).subscribe(i=re(n,function(h){return n.next(t?t(s,h,f,a++):h)},function(){i=null,c()}))},function(){u=!0,c()}))})}function Zr(e,t){return Math.floor(Math.random()*(t-e)+e)}const en=0,fe=5,tn=50,rn=300;var jo=Rt(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),nn=function(e){$(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new on(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new jo},t.prototype.next=function(r){var n=this;Ie(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var u=ie(n.currentObservers),c=u.next();!c.done;c=u.next()){var s=c.value;s.next(r)}}catch(a){i={error:a}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}})},t.prototype.error=function(r){var n=this;Ie(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},t.prototype.complete=function(){var r=this;Ie(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,i=this,o=i.hasError,u=i.isStopped,c=i.observers;return o||u?Dt:(this.currentObservers=null,c.push(r),new he(function(){n.currentObservers=null,Te(c,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n.thrownError,u=n.isStopped;i?r.error(o):u&&r.complete()},t.prototype.asObservable=function(){var r=new z;return r.source=this,r},t.create=function(r,n){return new on(r,n)},t}(z),on=function(e){$(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},t.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:Dt},t}(nn),_e=function(e){$(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,o=r._value;if(n)throw i;return this._throwIfClosed(),o},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t}(nn);class To{lifeProgress$$=new _e(tn);activeScore$$=new _e(fe);score$$=new _e(en);lifeProgress$=this.lifeProgress$$.pipe();updateScore(){const t=this.score$$.getValue()+this.activeScore$$.getValue();this.score$$.next(t)}reset(){this.score$$.next(en),this.activeScore$$.next(fe)}updateTime=t=>{this.activeScore$$.next(t)}}const le=new To;class xo{events={};on(t,r){this.events[t]||(this.events[t]=[]),this.events[t].push(r)}off(t,r){const n=this.events[t];n&&(this.events[t]=n.filter(i=>i!==r),this.events[t].length||delete this.events[t])}emit(t,...r){const n=this.events[t];n&&n.forEach(i=>{i(...r)})}}class Mo extends K{timer;click$;notify=new xo;constructor({tag:t,className:r,parent:n}){super({tag:t,className:r,parent:n}),this.timer=new K({tag:"span",className:["timer"],parent:this.element}),le.activeScore$$.subscribe(this.showTime),this.click$=Mt(this.element,"click").pipe(Po(this.onDotClick),_o(this.timerOnClick),xt(i=>i+1),Bt(i=>i<=fe),Ht(this.lose)),this.subscribeStore()}pending(){this.addEvent("click",()=>{G.dispatch(Ge(L.START))},{once:!0}),this.click$.subscribe(t=>{le.updateTime(fe-t)}),this.element.removeAttribute("style"),this.timer.setTextContent("Click")}subscribeStore(){G.subscribe(()=>{const{status:t}=G.getState();switch(t){case L.PENDING:this.pending();break;default:break}})}onDotClick=()=>{le.updateScore(),this.showTime(fe),this.moveDot(),this.notify.emit(Tt.dotClick,this.getDOMRect())};showTime=t=>{this.timer.setTextContent(String(t))};timerOnClick=()=>Kt(rn);moveDot=()=>{this.stylize("transitionDuration",`${fe*rn/1e3}s`),this.stylize("top",`${Zr(0,100)}%`),this.stylize("left",`${Zr(0,100)}%`)};lose=()=>{G.dispatch(Ge(L.LOSE))}}class Io extends K{dot;constructor({tag:t,className:r,parent:n}){super({tag:t,className:r,parent:n}),this.dot=new Mo({className:["dot"],parent:this.element}),this.dot.notify.on(Tt.dotClick,this.showEcho)}showEcho=t=>{const r=this.getDOMRect(),n=t.y-r.y,i=t.x-r.x,o=new K({className:["echo"],parent:this.element});o.stylize("width",`${t.width}px`),o.stylize("height",`${t.height}px`),o.stylize("top",`${n}px`),o.stylize("left",`${i}px`),o.stylize("transition","all 0.5s linear 0s"),setTimeout(()=>{o.stylize("opacity","0"),o.stylize("borderWidth","1px"),o.stylize("transform","scale(1.3)"),o.addEvent("transitionend",()=>{o.destroy()})})}}class ko extends K{constructor({tag:t,className:r,parent:n}){super({tag:t,className:r,parent:n}),le.score$$.subscribe(this.showScore),this.subscribeStore()}loadData(){le.score$$.subscribe(this.showScore)}showScore=t=>{this.setTextContent(String(t))};subscribeStore(){G.subscribe(()=>{const{status:t}=G.getState();switch(t){case L.START:this.addClass("started");break;case L.PENDING:this.removeClass("started");break;default:break}})}}const Co=0,Ro=100;class Do extends K{progress;maxValue=new _e(Ro);value=new _e(Co);constructor({className:t=[],parent:r,value:n,max:i}){super({className:["progress-bar",...t],parent:r}),this.progress=new K({className:["progress-bar-progress"],parent:this.getNode()}),this.value.subscribe(this.displayProgress),this.maxValue.subscribe(this.displayProgress),n&&this.setValue(n),i&&this.setMaxValue(i)}displayProgress=t=>{const r=t/this.maxValue.getValue()*100;this.progress.stylize("width",`${r}%`)};setValue(t){this.value.next(t)}getValue(){return this.value.getValue()}setMaxValue(t){this.maxValue.next(t)}getMaxValue(){return this.maxValue.getValue()}}class No extends Do{constructor({className:t,parent:r}){super({className:t,parent:r,value:tn}),le.lifeProgress$.subscribe(n=>{this.setValue(n)})}}class Lo extends K{gameField;lifeProgress;audio;score;constructor({tag:t,className:r,parent:n}){super({tag:t,className:r,parent:n}),this.score=new ko({tag:"h2",className:["score"]}),this.gameField=new Io({className:["game-field"]}),this.lifeProgress=new No({className:["life-progress"]}),this.audio=new Yi({src:"./assets/audio/sonny-boy.mp3"}),this.insertChildren(this.gameField,this.score,this.lifeProgress)}}class Fo{root=document.body;constructor(){new Lo({parent:this.root,className:["click-game"]})}start(){G.dispatch(Ge(L.PENDING))}}new Fo().start()})();

//# sourceMappingURL=main.82dbd3239fe608bbf859.js.map